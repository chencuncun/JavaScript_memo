# Vue学习笔记
## 1. Vue实例传入的options
### 1.1 选项
- `el`
  - 类型：`string`|`HTMLElement`
  - 作用：决定之后`Vue`实例会管理哪一个`DOM`
- `data`
  - 类型：`Object`|`Function`(组件当中`data`必须是一个函数)
  - 作用：`Vue`实例对应的数据对象
- `methods`
  - 类型：`{[key:string]:Function}`
  - 作用：定义属于`Vue`的一些方法，可以在其他地方调用，也可以在指令中使用
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mvvm概念</title>
</head>
<body>
    <div id="app">
        <h2>当前计数：{{counter}}</h2>
        <!-- <button v-on:click="counter++">➕</button> -->
        <!-- <button v-on:click="counter--">➖</button> -->

        <!-- <button v-on:click="add">+</button> -->
        <!-- <button v-on:click="sub">-</button> -->

        <!-- 以上被注释的代码可以简写成如下代码 -->
        <!-- view:DOM-->
        <button @click="add">+</button>
        <button @click="sub">-</button>

    </div>
    <script src="../js/vue.js"></script>
    <script>
        // Model
        const obj = {
            counter: 0
        }
        //viewmodel
        const app = new Vue({
            el: '#app',
            data: obj,
            methods: {
                add: function () {
                    console.log('add被执行'),
                        this.counter++
                },
                sub: function () {
                    console.log('sub被执行'),
                        this.counter--
                }
            }
        })
    </script>
</body>
</html>
```
## 2. 模版语法
### 2.1 mustache语法
不仅仅可以直接写变量，也可以写简单的表达式 <br/>
```
<body>
    <div id="app">
        {{message}}, {{lastName + firstName}}!
        <div>{{counter * 2}}</div>
    </div>

    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                message: '你好',
                firstName: '银河',
                lastName: '李',
                counter: 100
            }
        })
    </script>
</body>

实行结果：
你好, 李银河!
200
```
### 2.2 `v-once`指令
- 该指令后面不需要跟任何表达式
- 该指令表示元素和组件值渲染一次，不会随着数据的改变而改变
```
<body>
    <div id="app">
        <h2>{{message}}</h2> 
        <h2 v-once>{{message}}</h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                message: 'hello'
            }
        })
    </script>
</body>

实行结果：
当在控制台改变app.message的内容时，
含有v-once的元素里的内容不会被改变。
```
### 2.3 `v-html`指令
在某些情况下，我们从服务器请求到的数据本身就是一个HTML代码。<br/>
- 如果我们直接通过`{{}}`来输出，会将HTML代码也一起输出
- 但是我们可能希望的是按照HTML格式进行解析，并且显示对应的内容
上述情况可以使用`v-html`指令
- 该指令后面往往会跟上一个`string`类型
- 会将`string`的`html`解析出来并且进行渲染
```
<body>
    <div id="app">
        <h2>{{url}}</h2>
        <h2 v-html='url'></h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                url: '<a href="https://www.google.co.jp/">google</a>'
            }
        })
    </script>
</body>

实行结果：
<a href="https://www.google.co.jp/">google</a>
google
```
### 2.4 `v-text`指令(一般不使用)
```
<body>
    <div id="app">
        <h2>{{message}}</h2>
        <h2 v-text="message"></h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                message: '你好'
            }
        })
    </script>
</body>

实行结果：
你好
你好
```
### 2.5 `v-pre`指令
用于跳过这个元素和它子元素的编译过程，用于显示原本的Mustache语法。
```
<body>
    <div id="app">
        <h2>{{message}}</h2>
        <h2 v-pre>{{message}}</h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                message: '你好'
            }
        })
    </script>
</body>

实行结果：
你好
{{message}}
```
### 2.6 `v-cloak`指令
在某些情况下，我们浏览器可能会直接显示出未编译的Mustache标签。<br/>
```
<head>
    <style>
        [v-cloak] {
            display: none;
        }
    </style> 
</head>
<body>
    <div id="app" v-cloak>
        {{message}}
    </div>
    <script src="../js/vue.js"></script>
    <script>
        //在vue解析之前，div中有一个属性v-cloak
        //在vue解析之后，div中没有属性v-cloak
        setTimeout(function () {
            const app = new Vue({
                el: '#app',
                data: {
                    message: '你好'
                }
            })
        })
    </script>
</body>
```
## 3. `v-bind`指令
### 3.1 基本使用
#### 3.1.1 介绍
以上我们学习的指令主要作用是将值插入到我们模版的内容当中。<br/>
但是，除了内容需要动态来决定外，某些属性我们也希望动态来绑定。<br/>
比如：<br/>
- 动态绑定`a`元素的`href`属性
- 动态绑定`img`元素的`src`属性
此时，我们可以使用`v-bind`指令 <br/>
- 作用：动态绑定属性
- 缩写：`:`
- 预期：`any(with argument)`|`Object(without argument)`
- 参数：`attrOrProp(optional)`
```
<body>
    <div id="app">
        <img v-bind:src="imgUrl" alt="">
        <a v-bind:href="link">Vuejs官方网站</a>
    </div>
    <script src="../js/vue.js"></script>
    <script>

        const app = new Vue({
            el: '#app',
            data: {
                message: '你好',
                imgUrl: 'https://cn.vuejs.org/images/logo.png',
                link:'https://cn.vuejs.org/'
            }
        })
    </script>
</body>
```
#### 3.1.2 `v-bind`语法糖
v-bind有一个对应的语法糖，也就是简写方式。<br/>
在开发中，我们通常会使用语法糖的形式，因为这样更加简介。<br/>
```
<img :src="imgUrl" alt="">
<a :href="link">Vuejs官方网站</a>
```
### 3.2 `v-bind`动态绑定`class`(对象语法)
- 绑定方式：对象语法
  - 对象语法的含义是`:class`后面跟的是一个对象
- 对象语法有下面这些用法
  - 用法一：直接通过`{}`绑定一个类
    - `<h2 :class="{'active':isActive}">Hello World</h2>`
  - 用法二：也可以通过判断，传入多个值
    - `<h2 :class="{'active':isActive,'line':isLine}">Hello World</h2>`
  - 用法三：和普通的类同时存在，并不冲突
    - `<h2 class="title" :class="{'active':isActive,'line':isLine}">Hello World</h2>`
  - 用法四：如果过于负责，可以放在一个`methods`或是`computed`中
    - `<h2 class="title" :class="classes">Hello World</h2>`
    - 注：`classes`是一个计算属性
```
<head>
    <title>v-bind动态绑定class对象语法</title>
    <style>
        .active {
            color: red;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- <h2 :class="{类名1:boolean,类名2:boolean}"></h2> -->
        <h2 :class="{active:isActive,line:isLine}">{{message}}</h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>

        const app = new Vue({
            el: '#app',
            data: {
                message: '你好',
                isActive: true,
                isLine: true
            }
        })
    </script>
</body>

实行结果：
如果在控制台输入app.isActive=false，
则h2元素中的active class将不会被加进去
```
```
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v-bind指令的使用</title>
    <style>
        .active {
            color: red;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- <h2 :class="{类名1:boolean,类名2:boolean}"></h2> -->
        <h2 :class="{active:isActive,line:isLine}">{{message}}</h2>
        <h2 :class="getClasses()">{{message}}</h2>
        <button v-on:click="btnClick">按钮</button>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app', 
            data: {
                message: '你好',
                isActive: true,
                isLine: true
            },
            methods:{
                btnClick:function(){
                    this.isActive = !this.isActive
                },
                getClasses:function(){
                    return {active:this.isActive,line:this.isLine}
                }
            }
        })
    </script>
</body>

实行结果：
你好
你好
按钮
```
### 3.3 `v-bind`动态绑定`class`(数组语法)
```
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v-bind动态绑定class(数组语法)</title>
    <style>
        .active {
            color: red;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- <h2 :class="{类名1:boolean,类名2:boolean}"></h2> -->
        <h2 :class="[active,line]">{{message}}</h2>
        <h2 :class="getClasses()">{{message}}</h2>
    </div>
    <script src="../js/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                message: '你好',
                active: 'aaa',
                line: 'bbb'
            },
            methods: {
                getClasses: function () {
                    return [this.active,this.line]
                }
            }
        })
    </script>
</body>
```

